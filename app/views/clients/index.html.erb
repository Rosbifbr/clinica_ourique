<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>
      <i class="bi bi-people me-2"></i>Clients
    </h2>
  </div>

<%= form_tag(clients_path, method: :get, class: "d-flex align-items-center gap-2") do %>
  <div class="form-floating">
    <%= text_field_tag :search, params[:search], class: "form-control", placeholder: "Search by name" %>
    <%= label_tag :search, "Search Clients" %>
  </div>
  <%= submit_tag "Search", class: "btn btn-primary" %>
<% end %>

<br>

  <div class="table-responsive">
    <table class="table table-striped table-hover table-bordered align-middle">
      <thead class="table-light">
        <tr>
          <th scope="col">Name</th>
          <th scope="col">CPF</th>
          <th scope="col">Phone</th>
          <th scope="col">Birthdate</th>
          <th scope="col">Address</th>
          <th scope="col">Postal Code</th>
          <th scope="col">Neighborhood</th>
          <th scope="col" class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @clients.each do |client| %>
          <tr>
            <td><%= link_to client.name, client_path(client), class: "text-decoration-none" %></td>
            <td><%= client.cpf %></td>
            <td><%= client.phone %></td>
            <td><%= client.birthdate %></td>
            <td><%= client.address %></td>
            <td><%= client.postal_code %></td>
            <td><%= client.neighborhood %></td>
            <td>
              <div class="d-flex justify-content-center gap-2">
                <%= link_to client_path(client), class: "btn btn-primary btn-sm" do %>
                  <i class="bi bi-eye"></i>
                <% end %>
                <%= link_to edit_client_path(client), class: "btn btn-secondary btn-sm" do %>
                  <i class="bi bi-pencil-square"></i>
                <% end %>
                <%= button_to client_path(client),
                    method: :delete,
                    class: "btn btn-danger btn-sm",
                    form: { data: { turbo_confirm: "Are you sure you want to delete this client?" } } do %>
                  <i class="bi bi-trash"></i>
                <% end %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="mt-3">
    <%= link_to new_client_path, class: "btn btn-primary" do %>
      <i class="bi bi-plus-circle me-2"></i>Add New Client
    <% end %>
  </div>
</div>
